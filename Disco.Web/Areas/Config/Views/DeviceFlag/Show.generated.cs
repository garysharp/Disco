#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.42000
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Disco.Web.Areas.Config.Views.DeviceFlag
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Disco;
    using Disco.Models.Repository;
    using Disco.Services;
    using Disco.Services.Authorization;
    
    #line 3 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
    using Disco.Services.Devices.DeviceFlags;
    
    #line default
    #line hidden
    
    #line 2 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
    using Disco.Services.Interop.ActiveDirectory;
    
    #line default
    #line hidden
    using Disco.Services.Web;
    using Disco.Web;
    
    #line 4 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
    using Disco.Web.Areas.Config.Models.Shared;
    
    #line default
    #line hidden
    using Disco.Web.Extensions;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/Config/Views/DeviceFlag/Show.cshtml")]
    public partial class Show : Disco.Services.Web.WebViewPage<Disco.Web.Areas.Config.Models.DeviceFlag.ShowModel>
    {
        public Show()
        {
        }
        public override void Execute()
        {
            
            #line 5 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
  
    Authorization.Require(Claims.Config.DeviceFlag.Show);

    ViewBag.Title = Html.ToBreadcrumb("Configuration", MVC.Config.Config.Index(), "Device Flags", MVC.Config.DeviceFlag.Index(null), Model.DeviceFlag.ToString());

    var canConfig = Authorization.Has(Claims.Config.DeviceFlag.Configure);
    var canDelete = Authorization.Has(Claims.Config.DeviceFlag.Delete);
    var canBulkAssignment = Authorization.HasAll(Claims.Device.Actions.AddFlags, Claims.Device.Actions.RemoveFlags, Claims.Device.ShowFlagAssignments);
    var canShowDevices = Model.CurrentAssignmentCount > 0 && Authorization.HasAll(Claims.Device.Search, Claims.Device.ShowFlagAssignments);
    var canExportCurrent = Model.CurrentAssignmentCount > 0 && Authorization.Has(Claims.Config.DeviceFlag.Export);
    var canExportAll = Model.TotalAssignmentCount > 0 && Authorization.Has(Claims.Config.DeviceFlag.Export);

    var hideAdvanced =
        Model.Permission.IsDefault() &&
        Model.DeviceFlag.DevicesLinkedGroup == null &&
        Model.DeviceFlag.DeviceUsersLinkedGroup == null &&
        Model.DeviceFlag.OnAssignmentExpression == null &&
        Model.DeviceFlag.OnUnassignmentExpression == null;

    Html.BundleDeferred("~/ClientScripts/Modules/Disco-PropertyChangeHelpers");

            
            #line default
            #line hidden
WriteLiteral("\r\n<div");

WriteLiteral(" id=\"Config_DeviceFlags_Show\"");

WriteAttribute("class", Tuple.Create(" class=\"", 1519), Tuple.Create("\"", 1578)
, Tuple.Create(Tuple.Create("", 1527), Tuple.Create("form", 1527), true)
            
            #line 26 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
, Tuple.Create(Tuple.Create("", 1531), Tuple.Create<System.Object, System.Int32>(hideAdvanced ? " Config_HideAdvanced" : null
            
            #line default
            #line hidden
, 1531), false)
);

WriteLiteral(" style=\"width: 550px\"");

WriteLiteral(">\r\n    <table>\r\n        <tr>\r\n            <th");

WriteLiteral(" style=\"width: 150px\"");

WriteLiteral(">\r\n                Id:\r\n            </th>\r\n            <td>\r\n");

WriteLiteral("                ");

            
            #line 33 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
           Write(Html.DisplayFor(model => model.DeviceFlag.Id));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n             " +
"   Name:\r\n            </th>\r\n            <td>\r\n");

            
            #line 41 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                
            
            #line default
            #line hidden
            
            #line 41 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                 if (canConfig)
                {
                    
            
            #line default
            #line hidden
            
            #line 43 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(Html.EditorFor(model => model.DeviceFlag.Name));

            
            #line default
            #line hidden
            
            #line 43 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                   
                    
            
            #line default
            #line hidden
            
            #line 44 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(AjaxHelpers.AjaxSave());

            
            #line default
            #line hidden
            
            #line 44 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                           
                    
            
            #line default
            #line hidden
            
            #line 45 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(AjaxHelpers.AjaxLoader());

            
            #line default
            #line hidden
            
            #line 45 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                             

            
            #line default
            #line hidden
WriteLiteral("                    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
                        $(function () {
                            document.DiscoFunctions.PropertyChangeHelper(
                                $('#DeviceFlag_Name'),
                                'Invalid Name',
                                '");

            
            #line 51 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                             Write(Url.Action(MVC.API.DeviceFlag.UpdateName(Model.DeviceFlag.Id)));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                                \'FlagName\'\r\n                            );\r\n " +
"                       });\r\n                    </script>\r\n");

            
            #line 56 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                }
                else
                {
                    
            
            #line default
            #line hidden
            
            #line 59 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(Model.DeviceFlag.Name);

            
            #line default
            #line hidden
            
            #line 59 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                          
                }

            
            #line default
            #line hidden
WriteLiteral("            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n               " +
" Description:\r\n            </th>\r\n            <td>\r\n");

            
            #line 68 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                
            
            #line default
            #line hidden
            
            #line 68 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                 if (canConfig)
                {
            
            #line default
            #line hidden
            
            #line 69 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
            Write(Html.EditorFor(model => model.DeviceFlag.Description));

            
            #line default
            #line hidden
            
            #line 69 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                       
                
            
            #line default
            #line hidden
            
            #line 70 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
           Write(AjaxHelpers.AjaxSave());

            
            #line default
            #line hidden
            
            #line 70 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                       
                
            
            #line default
            #line hidden
            
            #line 71 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
           Write(AjaxHelpers.AjaxLoader());

            
            #line default
            #line hidden
            
            #line 71 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                         

            
            #line default
            #line hidden
WriteLiteral("                <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
                        $(function () {
                            document.DiscoFunctions.PropertyChangeHelper(
                                $('#DeviceFlag_Description'),
                                'Invalid Description',
                                '");

            
            #line 77 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                             Write(Url.Action(MVC.API.DeviceFlag.UpdateDescription(Model.DeviceFlag.Id)));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                                \'Description\'\r\n                            );" +
"\r\n                        });\r\n                </script>\r\n");

            
            #line 82 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
            }
            else
            {

            
            #line default
            #line hidden
WriteLiteral("                <pre>\r\n");

            
            #line 86 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 86 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                     if (string.IsNullOrEmpty(Model.DeviceFlag.Description))
                    {

            
            #line default
            #line hidden
WriteLiteral("                    ");

WriteLiteral("&lt;None&gt;");

WriteLiteral("\r\n");

            
            #line 89 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    }
                    else
                    {
                        
            
            #line default
            #line hidden
            
            #line 92 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                   Write(Model.DeviceFlag.Description.ToHtmlComment());

            
            #line default
            #line hidden
            
            #line 92 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                     
                    }

            
            #line default
            #line hidden
WriteLiteral("                    </pre>\r\n");

            
            #line 95 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
            }

            
            #line default
            #line hidden
WriteLiteral("            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n               " +
" Statistics:\r\n            </th>\r\n            <td>\r\n                <div><strong>" +
"");

            
            #line 103 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        Write(Model.CurrentAssignmentCount);

            
            #line default
            #line hidden
WriteLiteral(" device");

            
            #line 103 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                             Write(Model.CurrentAssignmentCount != 1 ? "s" : null);

            
            #line default
            #line hidden
WriteLiteral(" currently assigned</strong></div>\r\n                <div>");

            
            #line 104 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                Write(Model.TotalAssignmentCount);

            
            #line default
            #line hidden
WriteLiteral(" total device historical assignment");

            
            #line 104 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                               Write(Model.TotalAssignmentCount != 1 ? "s" : null);

            
            #line default
            #line hidden
WriteLiteral("</div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th>\r\n       " +
"         Icon:\r\n            </th>\r\n            <td>\r\n                <i");

WriteLiteral(" id=\"Config_DeviceFlags_Icon\"");

WriteLiteral(" data-icon=\"");

            
            #line 112 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                       Write(Model.DeviceFlag.Icon);

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteLiteral(" data-colour=\"");

            
            #line 112 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                              Write(Model.DeviceFlag.IconColour);

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteAttribute("class", Tuple.Create(" class=\"", 4719), Tuple.Create("\"", 4796)
, Tuple.Create(Tuple.Create("", 4727), Tuple.Create("fa", 4727), true)
, Tuple.Create(Tuple.Create(" ", 4729), Tuple.Create("fa-", 4730), true)
            
            #line 112 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                , Tuple.Create(Tuple.Create("", 4733), Tuple.Create<System.Object, System.Int32>(Model.DeviceFlag.Icon
            
            #line default
            #line hidden
, 4733), false)
, Tuple.Create(Tuple.Create(" ", 4757), Tuple.Create("fa-4x", 4758), true)
, Tuple.Create(Tuple.Create(" ", 4763), Tuple.Create("d-", 4764), true)
            
            #line 112 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                 , Tuple.Create(Tuple.Create("", 4766), Tuple.Create<System.Object, System.Int32>(Model.DeviceFlag.IconColour
            
            #line default
            #line hidden
, 4766), false)
);

WriteLiteral("></i>\r\n");

            
            #line 113 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                
            
            #line default
            #line hidden
            
            #line 113 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                 if (canConfig)
                {

            
            #line default
            #line hidden
WriteLiteral("                    <div>\r\n                        <a");

WriteLiteral(" id=\"Config_DeviceFlags_Icon_Update\"");

WriteLiteral(" href=\"#\"");

WriteLiteral(" class=\"button small\"");

WriteLiteral(">Update</a>\r\n                        <div");

WriteLiteral(" id=\"Config_DeviceFlags_Icon_Update_Dialog\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Device Flag Icon\"");

WriteLiteral(">\r\n");

            
            #line 118 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                            
            
            #line default
            #line hidden
            
            #line 118 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                             using (Html.BeginForm(MVC.API.DeviceFlag.UpdateIconAndColour(id: Model.DeviceFlag.Id, redirect: true)))
                            {
                                
            
            #line default
            #line hidden
            
            #line 120 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                           Write(Html.AntiForgeryToken());

            
            #line default
            #line hidden
            
            #line 120 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                        

            
            #line default
            #line hidden
WriteLiteral("                                <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"icon\"");

WriteLiteral(" />\r\n");

WriteLiteral("                                <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"iconColour\"");

WriteLiteral(" />\r\n");

            
            #line 123 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                            }

            
            #line default
            #line hidden
WriteLiteral("                            <div>\r\n                                <div");

WriteLiteral(" class=\"colours\"");

WriteLiteral(">\r\n");

            
            #line 126 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                    
            
            #line default
            #line hidden
            
            #line 126 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                     foreach (var colour in Model.ThemeColours)
                                    {

            
            #line default
            #line hidden
WriteLiteral("                                        <i");

WriteLiteral(" data-colour=\"");

            
            #line 128 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                    Write(colour.Key);

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteAttribute("class", Tuple.Create(" class=\"", 5780), Tuple.Create("\"", 5816)
, Tuple.Create(Tuple.Create("", 5788), Tuple.Create("fa", 5788), true)
, Tuple.Create(Tuple.Create(" ", 5790), Tuple.Create("fa-square", 5791), true)
, Tuple.Create(Tuple.Create(" ", 5800), Tuple.Create("d-", 5801), true)
            
            #line 128 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
              , Tuple.Create(Tuple.Create("", 5803), Tuple.Create<System.Object, System.Int32>(colour.Key
            
            #line default
            #line hidden
, 5803), false)
);

WriteAttribute("title", Tuple.Create(" title=\"", 5817), Tuple.Create("\"", 5838)
            
            #line 128 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                   , Tuple.Create(Tuple.Create("", 5825), Tuple.Create<System.Object, System.Int32>(colour.Value
            
            #line default
            #line hidden
, 5825), false)
);

WriteLiteral("></i>\r\n");

            
            #line 129 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                    }

            
            #line default
            #line hidden
WriteLiteral("                                </div>\r\n                                <div");

WriteLiteral(" class=\"icons\"");

WriteLiteral(">\r\n");

            
            #line 132 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                    
            
            #line default
            #line hidden
            
            #line 132 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                     foreach (var icon in Model.Icons)
                                    {

            
            #line default
            #line hidden
WriteLiteral("                                        <i");

WriteLiteral(" data-icon=\"");

            
            #line 134 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                  Write(icon.Key);

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteAttribute("class", Tuple.Create(" class=\"", 6155), Tuple.Create("\"", 6180)
, Tuple.Create(Tuple.Create("", 6163), Tuple.Create("fa", 6163), true)
, Tuple.Create(Tuple.Create(" ", 6165), Tuple.Create("fa-", 6166), true)
            
            #line 134 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
 , Tuple.Create(Tuple.Create("", 6169), Tuple.Create<System.Object, System.Int32>(icon.Key
            
            #line default
            #line hidden
, 6169), false)
);

WriteAttribute("title", Tuple.Create(" title=\"", 6181), Tuple.Create("\"", 6200)
            
            #line 134 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    , Tuple.Create(Tuple.Create("", 6189), Tuple.Create<System.Object, System.Int32>(icon.Value
            
            #line default
            #line hidden
, 6189), false)
);

WriteLiteral("></i>\r\n");

            
            #line 135 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                    }

            
            #line default
            #line hidden
WriteLiteral("                                </div>\r\n                            </div>\r\n     " +
"                   </div>\r\n                        <script>\r\n                   " +
"         (function () {\r\n                                var dialog, icon, colou" +
"rs, icons;\r\n\r\n                                function showDialog() {\r\n         " +
"                           if (!dialog) {\r\n                                     " +
"   dialog = $(\'#Config_DeviceFlags_Icon_Update_Dialog\').dialog({\r\n              " +
"                              resizable: false,\r\n                               " +
"             modal: true,\r\n                                            autoOpen:" +
" false,\r\n                                            width: 1000,\r\n             " +
"                               buttons: {\r\n                                     " +
"           \"Save\": save,\r\n                                                Cancel" +
": cancel\r\n                                            }\r\n                       " +
"                 });\r\n\r\n                                        colours = dialog" +
".find(\'.colours\');\r\n                                        icons = dialog.find(" +
"\'.icons\');\r\n\r\n                                        colours.on(\'click\', \'i\', s" +
"electColour);\r\n                                        icons.on(\'click\', \'i\', se" +
"lectIcon);\r\n                                    }\r\n\r\n                           " +
"         colours.find(\'i[data-colour=\"\' + icon.attr(\'data-colour\') + \'\"]\').each(" +
"selectColour);\r\n                                    icons.find(\'i[data-icon=\"\' +" +
" icon.attr(\'data-icon\') + \'\"]\').each(selectIcon);\r\n\r\n                           " +
"         dialog.dialog(\'open\');\r\n\r\n                                    return fa" +
"lse;\r\n                                }\r\n\r\n                                funct" +
"ion selectColour() {\r\n                                    var $this = $(this),\r\n" +
"                                        colourCode = $this.attr(\'data-colour\'),\r" +
"\n                                        previousColourCode = icons.attr(\'data-c" +
"olour\');\r\n\r\n\r\n                                    colours.find(\'i\').removeClass(" +
"\'selected fa-check-square\').addClass(\'fa-square\');\r\n                            " +
"        $this.removeClass(\'fa-square\').addClass(\'fa-check-square selected\');\r\n\r\n" +
"                                    if (previousColourCode)\r\n                   " +
"                     icons.removeClass(\'d-\' + previousColourCode);\r\n            " +
"                        icons.attr(\'data-colour\', colourCode)\r\n                 " +
"                   icons.addClass(\'d-\' + colourCode);\r\n                         " +
"       }\r\n                                function selectIcon() {\r\n             " +
"                       var $this = $(this),\r\n                                   " +
"     iconCode = $this.attr(\'data-icon\');\r\n\r\n                                    " +
"icons.find(\'i\').removeClass(\'selected\');\r\n                                    $t" +
"his.addClass(\'selected\');\r\n                                }\r\n\r\n                " +
"                function save() {\r\n                                    dialog.di" +
"alog(\"option\", \"buttons\", null);\r\n                                    const $for" +
"m = dialog.find(\'form\');\r\n                                    $form.find(\'input[" +
"name=\"icon\"]\').val(icons.find(\'i.selected\').attr(\'data-icon\'));\r\n               " +
"                     $form.find(\'input[name=\"iconColour\"]\').val(colours.find(\'i." +
"selected\').attr(\'data-colour\'));\r\n                                    $form.trig" +
"ger(\'submit\');\r\n                                }\r\n\r\n                           " +
"     function cancel() {\r\n                                    $(this).dialog(\"cl" +
"ose\");\r\n                                }\r\n\r\n                                $(f" +
"unction () {\r\n                                    icon = $(\'#Config_DeviceFlags_" +
"Icon\');\r\n                                    $(\'#Config_DeviceFlags_Icon_Update\'" +
").click(showDialog);\r\n                                });\r\n                     " +
"       }());\r\n                        </script>\r\n                    </div>\r\n");

            
            #line 212 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                }

            
            #line default
            #line hidden
WriteLiteral("            </td>\r\n        </tr>\r\n");

            
            #line 215 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
        
            
            #line default
            #line hidden
            
            #line 215 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
         if (hideAdvanced)
        {

            
            #line default
            #line hidden
WriteLiteral("            <tr>\r\n                <td");

WriteLiteral(" colspan=\"2\"");

WriteLiteral(" style=\"text-align: right;\"");

WriteLiteral(">\r\n                    <button");

WriteLiteral(" id=\"Config_HideAdvanced_Show\"");

WriteLiteral(" class=\"button small\"");

WriteLiteral(@">Show Advanced Options</button>
                    <script>
                        $(function () {
                            $('#Config_HideAdvanced_Show').click(function () {
                                var $this = $(this);
                                $this.closest('.Config_HideAdvanced').removeClass('Config_HideAdvanced');
                                $this.closest('tr').remove();
                            });
                        });
                    </script>
                </td>
            </tr>
");

            
            #line 231 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("        <tr");

WriteLiteral(" class=\"Config_HideAdvanced_Item\"");

WriteLiteral(">\r\n            <th>\r\n                Assignment Permission<br />\r\n               " +
" Override:\r\n            </th>\r\n            <td>\r\n");

            
            #line 238 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                
            
            #line default
            #line hidden
            
            #line 238 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                 if (!Model.Permission.IsDefault())
                {
                    var permission = Model.Permission;

            
            #line default
            #line hidden
WriteLiteral("                    <div>\r\n");

            
            #line 242 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 242 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                         if (permission.Inherit)
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <span><i");

WriteLiteral(" class=\"fa fa-check-square-o\"");

WriteLiteral("></i> Inheriting from Authorization Roles</span>\r\n");

            
            #line 245 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        }
                        else
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <span><i");

WriteLiteral(" class=\"fa fa-square-o\"");

WriteLiteral("></i> Authorization Roles are Ignored</span>\r\n");

            
            #line 249 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </div>\r\n");

            
            #line 251 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    if (!permission.HasSubjects())
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">There are no users/groups associated with this permission override</span>\r\n");

            
            #line 254 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    }
                    else
                    {
                        if (permission.IsSimple())
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <table");

WriteLiteral(" class=\"tableData\"");

WriteLiteral(@">
                                <thead>
                                    <tr>
                                        <th>Users/Groups/Roles</th>
                                    </tr>
                                </thead>
                                <tbody>
");

            
            #line 266 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                    
            
            #line default
            #line hidden
            
            #line 266 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                     foreach (var subjectId in permission.CanShowSubjectIds)
                                    {

            
            #line default
            #line hidden
WriteLiteral("                                        <tr>\r\n                                   " +
"         <td>\r\n");

            
            #line 270 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                
            
            #line default
            #line hidden
            
            #line 270 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                  
                                                    int roleId;
                                                    if (subjectId.StartsWith("[") && int.TryParse(subjectId.Trim('[', ']'), out roleId))
                                                    {

            
            #line default
            #line hidden
WriteLiteral("                                                        <span>");

            
            #line 274 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                         Write(Disco.Services.Users.UserService.GetAuthorizationRoleName(roleId));

            
            #line default
            #line hidden
WriteLiteral(" ");

            
            #line 274 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                                            Write(subjectId);

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n");

            
            #line 275 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                    }
                                                    else
                                                    {

            
            #line default
            #line hidden
WriteLiteral("                                                        <span>");

            
            #line 278 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                         Write(subjectId);

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n");

            
            #line 279 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                    }
                                                
            
            #line default
            #line hidden
WriteLiteral("\r\n                                            </td>\r\n                            " +
"            </tr>\r\n");

            
            #line 283 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                    }

            
            #line default
            #line hidden
WriteLiteral("                                </tbody>\r\n                            </table>\r\n");

WriteLiteral("                            <div");

WriteLiteral(" class=\"info-box\"");

WriteLiteral(">\r\n                                <p");

WriteLiteral(" class=\"fa-p\"");

WriteLiteral(">\r\n                                    <i");

WriteLiteral(" class=\"fa fa-fw fa-info-circle\"");

WriteLiteral("></i> All users/groups/roles can view, assign, edit assignments, and remove assig" +
"nments for this flag.\r\n                                </p>\r\n                   " +
"         </div>\r\n");

            
            #line 291 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        }
                        else
                        {
                            var subjects = permission.AllSubjects();

            
            #line default
            #line hidden
WriteLiteral("                            <table");

WriteLiteral(" class=\"tableData\"");

WriteLiteral(@">
                                <thead>
                                    <tr>
                                        <th>Users/Groups/Roles</th>
                                        <th>View</th>
                                        <th>Assign</th>
                                        <th>Edit</th>
                                        <th>Remove</th>
                                    </tr>
                                </thead>
                                <tbody>
");

            
            #line 306 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                    
            
            #line default
            #line hidden
            
            #line 306 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                     foreach (var subjectId in subjects.OrderBy(s => s))
                                    {

            
            #line default
            #line hidden
WriteLiteral("                                        <tr>\r\n                                   " +
"         <td>\r\n                                                <i");

WriteLiteral(" class=\"fa\"");

WriteLiteral("></i> ");

            
            #line 310 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                     
                                                    int roleId;
                                                    if (subjectId.StartsWith("[") && int.TryParse(subjectId.Trim('[', ']'), out roleId))
                                                    {

            
            #line default
            #line hidden
WriteLiteral("                                                        <span>");

            
            #line 314 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                         Write(Disco.Services.Users.UserService.GetAuthorizationRoleName(roleId));

            
            #line default
            #line hidden
WriteLiteral(" ");

            
            #line 314 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                                            Write(subjectId);

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n");

            
            #line 315 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                    }
                                                    else
                                                    {

            
            #line default
            #line hidden
WriteLiteral("                                                        <span>");

            
            #line 318 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                         Write(subjectId);

            
            #line default
            #line hidden
WriteLiteral("</span>\r\n");

            
            #line 319 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                    }
                                                
            
            #line default
            #line hidden
WriteLiteral("\r\n                                            </td>\r\n                            " +
"                <td>\r\n");

            
            #line 323 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                
            
            #line default
            #line hidden
            
            #line 323 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                 if (permission.CanShowSubjectIds.Contains(subjectId))
                                                {

            
            #line default
            #line hidden
WriteLiteral("                                                    <i");

WriteLiteral(" class=\"fa fa-fw fa-check\"");

WriteLiteral("></i>\r\n");

            
            #line 326 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                }

            
            #line default
            #line hidden
WriteLiteral("                                            </td>\r\n                              " +
"              <td>\r\n");

            
            #line 329 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                
            
            #line default
            #line hidden
            
            #line 329 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                 if (permission.CanAssignSubjectIds.Contains(subjectId))
                                                {

            
            #line default
            #line hidden
WriteLiteral("                                                    <i");

WriteLiteral(" class=\"fa fa-fw fa-check\"");

WriteLiteral("></i>\r\n");

            
            #line 332 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                }

            
            #line default
            #line hidden
WriteLiteral("                                            </td>\r\n                              " +
"              <td>\r\n");

            
            #line 335 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                
            
            #line default
            #line hidden
            
            #line 335 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                 if (permission.CanEditSubjectIds.Contains(subjectId))
                                                {

            
            #line default
            #line hidden
WriteLiteral("                                                    <i");

WriteLiteral(" class=\"fa fa-fw fa-check\"");

WriteLiteral("></i>\r\n");

            
            #line 338 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                }

            
            #line default
            #line hidden
WriteLiteral("                                            </td>\r\n                              " +
"              <td>\r\n");

            
            #line 341 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                
            
            #line default
            #line hidden
            
            #line 341 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                 if (permission.CanRemoveSubjectIds.Contains(subjectId))
                                                {

            
            #line default
            #line hidden
WriteLiteral("                                                    <i");

WriteLiteral(" class=\"fa fa-fw fa-check\"");

WriteLiteral("></i>\r\n");

            
            #line 344 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                }

            
            #line default
            #line hidden
WriteLiteral("                                            </td>\r\n                              " +
"          </tr>\r\n");

            
            #line 347 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                    }

            
            #line default
            #line hidden
WriteLiteral("                                </tbody>\r\n                            </table>\r\n");

            
            #line 350 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        }

                    }
                }

            
            #line default
            #line hidden
WriteLiteral("                ");

            
            #line 354 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                 if (canConfig)
                {
                    var permission = Model.Permission;

            
            #line default
            #line hidden
WriteLiteral("                    <button");

WriteLiteral(" id=\"Config_Flag_Permission_Edit\"");

WriteLiteral(" class=\"button small\"");

WriteLiteral(">");

            
            #line 357 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                              Write(permission.IsDefault() ? "Override" : "Edit");

            
            #line default
            #line hidden
WriteLiteral(" Permission</button>\r\n");

            
            #line 358 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"


            
            #line default
            #line hidden
WriteLiteral("                    <div");

WriteLiteral(" id=\"Config_Flag_Permissions\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Flag Assignment Permission Override\"");

WriteLiteral(">\r\n");

            
            #line 360 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 360 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                         using (Html.BeginForm(MVC.API.DeviceFlag.Permission(Model.DeviceFlag.Id)))
                        {
                            
            
            #line default
            #line hidden
            
            #line 362 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                       Write(Html.AntiForgeryToken());

            
            #line default
            #line hidden
            
            #line 362 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                    

            
            #line default
            #line hidden
WriteLiteral("                            <input");

WriteLiteral(" type=\"hidden\"");

WriteLiteral(" name=\"IsOverride\"");

WriteLiteral(" value=\"true\"");

WriteLiteral(" />\r\n");

WriteLiteral("                            <div");

WriteLiteral(" id=\"Config_Flag_Permissions_Inherit_Container\"");

WriteLiteral(">\r\n                                <label>\r\n                                    <" +
"input");

WriteLiteral(" id=\"Config_Flag_Permissions_Inherit\"");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"Inherit\"");

WriteLiteral(" value=\"true\"");

WriteLiteral(" ");

            
            #line 366 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                                        Write(permission.Inherit ? "checked" : null);

            
            #line default
            #line hidden
WriteLiteral(" /> Inherit Authorization from Authorization Roles\r\n                             " +
"   </label>\r\n                            </div>\r\n");

WriteLiteral("                            <div");

WriteLiteral(" class=\"tableDataContainer\"");

WriteLiteral(">\r\n                                <table");

WriteLiteral(" class=\"tableData\"");

WriteLiteral(@">
                                    <thead>
                                        <tr>
                                            <th>User/Group/Role</th>
                                            <th>View</th>
                                            <th>Assign</th>
                                            <th>Edit</th>
                                            <th>Remove</th>
                                        </tr>
                                    </thead>
                                    <tbody>
");

            
            #line 381 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                        
            
            #line default
            #line hidden
            
            #line 381 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                          
                                            var subjects = permission.AllSubjects();

                                            foreach (var subjectId in subjects.OrderBy(s => s))
                                            {

            
            #line default
            #line hidden
WriteLiteral("                                                <tr");

WriteLiteral(" data-subjectid=\"");

            
            #line 386 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                               Write(subjectId);

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteLiteral(">\r\n                                                    <td><i");

WriteLiteral(" class=\"fa type\"");

WriteLiteral("></i> <span>");

            
            #line 387 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                 Write(subjectId);

            
            #line default
            #line hidden
WriteLiteral("</span><i");

WriteLiteral(" class=\"fa fa-times-circle remove\"");

WriteLiteral("></i></td>\r\n                                                    <td>\r\n           " +
"                                             <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"CanShow\"");

WriteAttribute("value", Tuple.Create(" value=\"", 20122), Tuple.Create("\"", 20140)
            
            #line 389 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    , Tuple.Create(Tuple.Create("", 20130), Tuple.Create<System.Object, System.Int32>(subjectId
            
            #line default
            #line hidden
, 20130), false)
);

WriteLiteral(" ");

            
            #line 389 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                             Write(permission.CanShowSubjectIds.Contains(subjectId) ? " checked" : null);

            
            #line default
            #line hidden
WriteLiteral(" />\r\n                                                    </td>\r\n                 " +
"                                   <td>\r\n                                       " +
"                 <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"CanAssign\"");

WriteAttribute("value", Tuple.Create(" value=\"", 20430), Tuple.Create("\"", 20448)
            
            #line 392 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                      , Tuple.Create(Tuple.Create("", 20438), Tuple.Create<System.Object, System.Int32>(subjectId
            
            #line default
            #line hidden
, 20438), false)
);

WriteLiteral(" ");

            
            #line 392 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                               Write(permission.CanAssignSubjectIds.Contains(subjectId) ? " checked" : null);

            
            #line default
            #line hidden
WriteLiteral(" />\r\n                                                    </td>\r\n                 " +
"                                   <td>\r\n                                       " +
"                 <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"CanEdit\"");

WriteAttribute("value", Tuple.Create(" value=\"", 20738), Tuple.Create("\"", 20756)
            
            #line 395 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    , Tuple.Create(Tuple.Create("", 20746), Tuple.Create<System.Object, System.Int32>(subjectId
            
            #line default
            #line hidden
, 20746), false)
);

WriteLiteral(" ");

            
            #line 395 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                             Write(permission.CanEditSubjectIds.Contains(subjectId) ? " checked" : null);

            
            #line default
            #line hidden
WriteLiteral(" />\r\n                                                    </td>\r\n                 " +
"                                   <td>\r\n                                       " +
"                 <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"CanRemove\"");

WriteAttribute("value", Tuple.Create(" value=\"", 21046), Tuple.Create("\"", 21064)
            
            #line 398 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                      , Tuple.Create(Tuple.Create("", 21054), Tuple.Create<System.Object, System.Int32>(subjectId
            
            #line default
            #line hidden
, 21054), false)
);

WriteLiteral(" ");

            
            #line 398 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                               Write(permission.CanRemoveSubjectIds.Contains(subjectId) ? " checked" : null);

            
            #line default
            #line hidden
WriteLiteral(" />\r\n                                                    </td>\r\n                 " +
"                               </tr>\r\n");

            
            #line 401 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                            }
                                        
            
            #line default
            #line hidden
WriteLiteral("\r\n                                    </tbody>\r\n                                <" +
"/table>\r\n                            </div>\r\n");

WriteLiteral("                            <div>\r\n                                <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"Config_Flag_Permissions_Subject_Input\"");

WriteLiteral(" placeholder=\"Search Users/Groups/Roles\"");

WriteLiteral(" data-autocompleteurl=\"");

            
            #line 407 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                                                                        Write(Url.Action(MVC.API.System.SearchSubjects(null, includeAuthorizationRoles: true)));

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteLiteral(" />\r\n                                <button");

WriteLiteral(" type=\"button\"");

WriteLiteral(" id=\"Config_Flag_Permissions_Subject_Add\"");

WriteLiteral(" class=\"button small\"");

WriteLiteral(" data-subjecturl=\"");

            
            #line 408 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                                                Write(Url.Action(MVC.API.System.Subject(null, includeAuthorizationRoles: true)));

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteLiteral(">Add</button>\r\n                            </div>\r\n");

            
            #line 410 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </div>\r\n");

WriteLiteral("                    <script>\r\n                        $(function () {\r\n          " +
"                  let $dialog = null;\r\n                            let originalS" +
"ubjects = null;\r\n                            let originalInherit = null;\r\n      " +
"                      $(\'#Config_Flag_Permission_Edit\').on(\'click\', async functi" +
"on () {\r\n                                if (!$dialog) {\r\n                      " +
"              $dialog = $(\'#Config_Flag_Permissions\');\r\n                        " +
"            const $tbody = $dialog.find(\'tbody\');\r\n                             " +
"       const $inherit = $dialog.find(\'#Config_Flag_Permissions_Inherit\');\r\n     " +
"                               const $input = $dialog.find(\'#Config_Flag_Permiss" +
"ions_Subject_Input\');\r\n                                    const $add = $dialog." +
"find(\'#Config_Flag_Permissions_Subject_Add\');\r\n\r\n                               " +
"     $dialog.dialog({\r\n                                        resizable: false," +
"\r\n                                        modal: true,\r\n                        " +
"                autoOpen: false,\r\n                                        width:" +
" 550,\r\n                                        height: 420,\r\n                   " +
"                     buttons: {\r\n                                            Can" +
"cel: function () {\r\n                                                $(this).dial" +
"og(\'close\');\r\n                                                $tbody.html(origin" +
"alSubjects);\r\n                                                $inherit.prop(\'che" +
"cked\', originalInherit);\r\n                                            },\r\n      " +
"                                      \'Remove Override\': function () {\r\n        " +
"                                        const $this = $(this);\r\n                " +
"                                $(this).dialog(\'option\', \'buttons\', null);\r\n    " +
"                                            $this.find(\'input[name=\"IsOverride\"]" +
"\').val(\'false\');\r\n                                                $this.find(\'fo" +
"rm\').trigger(\'submit\');\r\n                                            },\r\n       " +
"                                     \'Save Changes\': function () {\r\n            " +
"                                    $(this).dialog(\'option\', \'buttons\', null);\r\n" +
"                                                $(this).find(\'form\').trigger(\'su" +
"bmit\');\r\n                                            }\r\n                        " +
"                }\r\n                                    });\r\n\r\n                  " +
"                  $tbody.on(\'click\', \'i.remove\', function () {\r\n                " +
"                        $(this).closest(\'tr\').remove();\r\n                       " +
"             });\r\n\r\n                                    $input\r\n                " +
"                        .autocomplete({\r\n                                       " +
"     source: $input.attr(\'data-autocompleteurl\'),\r\n                             " +
"               minLength: 2,\r\n                                            focus:" +
" function (e, ui) {\r\n                                                $input.val(" +
"ui.item.Id);\r\n                                                return false;\r\n   " +
"                                         },\r\n                                   " +
"         select: function (e, ui) {\r\n                                           " +
"     $input.val(ui.item.Id).blur();\r\n                                           " +
"     $add.trigger(\'click\');\r\n                                                $in" +
"put.val(\'\');\r\n                                                return false;\r\n   " +
"                                         }\r\n                                    " +
"    }).data(\'ui-autocomplete\')._renderItem = function (ul, item) {\r\n            " +
"                                return $(\"<li></li>\")\r\n                         " +
"                       .data(\'item.autocomplete\', item)\r\n                       " +
"                         .append(\'<a><strong>\' + item.Name + \'</strong><br>\' + i" +
"tem.Id + \' (\' + item.Type + \')</a>\')\r\n                                          " +
"      .appendTo(ul);\r\n                                        };\r\n\r\n            " +
"                        $add.on(\'click\', async function () {\r\n                  " +
"                      const value = $input.val();\r\n                             " +
"           if (!value) {\r\n                                            $input.foc" +
"us();\r\n                                            return;\r\n                    " +
"                    }\r\n                                        const existing = " +
"$tbody.find(\'tr\').filter(function () {\r\n                                        " +
"    return $(this).attr(\'data-subjectid\') === value;\r\n                          " +
"              });\r\n                                        if (existing.length !" +
"== 0) {\r\n                                            $input.val(\'\');\r\n          " +
"                                  $input.focus();\r\n                             " +
"               return;\r\n                                        }\r\n\r\n           " +
"                             const body = new FormData();\r\n                     " +
"                   body.append(\'id\', value);\r\n                                  " +
"      const response = await fetch($add.attr(\'data-subjecturl\'), {\r\n            " +
"                                body: body,\r\n                                   " +
"         method: \'POST\'\r\n                                        });\r\n\r\n        " +
"                                if (!response.ok) {\r\n                           " +
"                 alert(\'Unable to lookup User/Group/Role: \' + response.statusTex" +
"t);\r\n                                            $input.focus();\r\n              " +
"                              return;\r\n                                        }" +
"\r\n\r\n                                        const subject = await response.json(" +
");\r\n\r\n                                        if (!subject) {\r\n                 " +
"                           alert(\'Invalid User/Group/Role\');\r\n                  " +
"                          $input.focus();\r\n                                     " +
"       return;\r\n                                        }\r\n\r\n                   " +
"                     const $record = $(\'<tr><td><i class=\"fa type\"></i> <span></" +
"span><i class=\"fa fa-times-circle remove\"></i></td><td><input type=\"checkbox\" na" +
"me=\"CanShow\" checked /></td><td><input type=\"checkbox\" name=\"CanAssign\" checked " +
"/></td><td><input type=\"checkbox\" name=\"CanEdit\" checked /></td><td><input type=" +
"\"checkbox\" name=\"CanRemove\" checked /></td></tr>\');\r\n                           " +
"             $record.attr(\'data-subjectid\', subject.Id);\r\n                      " +
"                  $record.find(\'span\').text(subject.Name + \' \' + subject.Id);\r\n " +
"                                       $record.find(\'i.type\').addClass(subject.T" +
"ype === \'role\' ? \'fa-lock\' : subject.IsGroup ? \'fa-users\' : \'fa-user\');\r\n       " +
"                                 $record.find(\'input\').val(subject.Id);\r\n       " +
"                                 $tbody.append($record);\r\n                      " +
"                  $input.val(\'\');\r\n                                        $inpu" +
"t.focus();\r\n                                    });\r\n\r\n                         " +
"           const $records = $tbody.find(\'tr\');\r\n                                " +
"    for (var i = 0; i < $records.length; i++) {\r\n                               " +
"         const $record = $($records[i]);\r\n                                      " +
"  const body = new FormData();\r\n                                        body.app" +
"end(\'id\', $record.attr(\'data-subjectid\'));\r\n                                    " +
"    const response = await fetch($add.attr(\'data-subjecturl\'), {\r\n              " +
"                              body: body,\r\n                                     " +
"       method: \'POST\'\r\n                                        });\r\n            " +
"                            if (response.ok) {\r\n                                " +
"            const subject = await response.json();\r\n                            " +
"                if (subject) {\r\n                                                " +
"$record.find(\'span\').text(subject.Name + \' \' + subject.Id);\r\n                   " +
"                             $record.find(\'i.type\').addClass(subject.Type === \'r" +
"ole\' ? \'fa-lock\' : subject.IsGroup ? \'fa-users\' : \'fa-user\');\r\n                 " +
"                               continue;\r\n                                      " +
"      }\r\n                                        }\r\n                            " +
"            $record.remove();\r\n                                    }\r\n          " +
"                          originalInherit = $inherit.prop(\'checked\');\r\n         " +
"                           originalSubjects = $tbody.html();\r\n                  " +
"                  $dialog.dialog(\'open\');\r\n                                } els" +
"e {\r\n                                    $dialog.dialog(\'open\');\r\n              " +
"                  }\r\n                            });\r\n                        })" +
";\r\n                    </script>\r\n");

            
            #line 549 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                }

            
            #line default
            #line hidden
WriteLiteral("                <div");

WriteLiteral(" class=\"info-box\"");

WriteLiteral(">\r\n                    <p");

WriteLiteral(" class=\"fa-p\"");

WriteLiteral(">\r\n                        <i");

WriteLiteral(" class=\"fa fa-fw fa-info-circle\"");

WriteLiteral("></i> Flag actions are normally authorized globally by\r\n");

            
            #line 553 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 553 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                         if (Authorization.Has(Claims.DiscoAdminAccount))
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <span><a");

WriteAttribute("href", Tuple.Create(" href=\"", 31330), Tuple.Create("\"", 31390)
            
            #line 555 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
, Tuple.Create(Tuple.Create("", 31337), Tuple.Create<System.Object, System.Int32>(Url.Action(MVC.Config.AuthorizationRole.Index(null))
            
            #line default
            #line hidden
, 31337), false)
);

WriteLiteral(">Authorization Roles</a>.</span>\r\n");

            
            #line 556 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        }
                        else
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <span>Authorization Roles.</span>\r\n");

            
            #line 560 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                        Overriding individual flag permissions allows for targete" +
"d authorization.\r\n                    </p>\r\n                </div>\r\n            " +
"</td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" class=\"Config_HideAdvanced_Item\"");

WriteLiteral(">\r\n            <th>\r\n                On Assignment<br />Expression:\r\n            " +
"</th>\r\n            <td>\r\n");

            
            #line 571 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                
            
            #line default
            #line hidden
            
            #line 571 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                 if (canConfig)
                {
                    
            
            #line default
            #line hidden
            
            #line 573 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(Html.EditorFor(model => model.DeviceFlag.OnAssignmentExpression));

            
            #line default
            #line hidden
            
            #line 573 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                     
                    
            
            #line default
            #line hidden
            
            #line 574 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(AjaxHelpers.AjaxRemove());

            
            #line default
            #line hidden
            
            #line 574 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                             
                    
            
            #line default
            #line hidden
            
            #line 575 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(AjaxHelpers.AjaxSave());

            
            #line default
            #line hidden
            
            #line 575 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                           
                    
            
            #line default
            #line hidden
            
            #line 576 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(AjaxHelpers.AjaxLoader());

            
            #line default
            #line hidden
            
            #line 576 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                             

            
            #line default
            #line hidden
WriteLiteral("                    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
                            $(function () {
                                var field = $('#DeviceFlag_OnAssignmentExpression');
                                var fieldRemove = field.next('.ajaxRemove');
                                var fieldOriginalWidth, fieldOriginalHeight;

                                document.DiscoFunctions.PropertyChangeHelper(
                                    field,
                                    'None',
                                    '");

            
            #line 586 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                Write(Url.Action(MVC.API.DeviceFlag.UpdateOnAssignmentExpression(Model.DeviceFlag.Id)));

            
            #line default
            #line hidden
WriteLiteral("\',\r\n                                    \'OnAssignmentExpression\'\r\n               " +
"                 );\r\n\r\n                                field.focus(function () {" +
"\r\n                                    fieldOriginalWidth = field.width();\r\n     " +
"                               fieldOriginalHeight = field.height();\r\n          " +
"                          field.css(\'overflow\', \'visible\').animate({ width: fiel" +
"d.parent().width() - 42, height: 75 }, 200);\r\n                                })" +
".blur(function () {\r\n                                    field.css(\'overflow\', \'" +
"hidden\').animate({ width: fieldOriginalWidth, height: fieldOriginalHeight }, 200" +
");\r\n                                }).change(function () {\r\n                   " +
"                 if (!!field.val()) {\r\n                                        f" +
"ieldRemove.show();\r\n                                    } else {\r\n              " +
"                          fieldRemove.hide();\r\n                                 " +
"   }\r\n                                }).attr(\'placeholder\', \'None\').attr(\'spell" +
"check\', \'false\');\r\n\r\n                                fieldRemove.click(function " +
"() {\r\n                                    field.val(\'\').change();\r\n             " +
"                   });\r\n\r\n                                if (!!field.val()) {\r\n" +
"                                    fieldRemove.show();\r\n                       " +
"         } else {\r\n                                    fieldRemove.hide();\r\n    " +
"                            }\r\n                            });\r\n                " +
"    </script>\r\n");

            
            #line 615 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                }
                else
                {
                    if (string.IsNullOrWhiteSpace(Model.DeviceFlag.OnAssignmentExpression))
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">&lt;None Specified&gt;</span>\r\n");

            
            #line 621 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    }
                    else
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"code\"");

WriteLiteral(">\r\n");

WriteLiteral("                            ");

            
            #line 625 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                       Write(Model.DeviceFlag.OnAssignmentExpression);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        </div>\r\n");

            
            #line 627 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    }
                }

            
            #line default
            #line hidden
WriteLiteral("                <div");

WriteLiteral(" class=\"info-box\"");

WriteLiteral(">\r\n                    <p");

WriteLiteral(" class=\"fa-p\"");

WriteLiteral(">\r\n                        <i");

WriteLiteral(" class=\"fa fa-fw fa-info-circle\"");

WriteLiteral("></i>This expression will be evaluated whenever the flag is assigned to a device." +
" The output of the expression will be shown with the flag assignment.\r\n         " +
"           </p>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n     " +
"   <tr");

WriteLiteral(" class=\"Config_HideAdvanced_Item\"");

WriteLiteral(">\r\n            <th>\r\n                On Unassignment<br />Expression:\r\n          " +
"  </th>\r\n            <td>\r\n");

            
            #line 641 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                
            
            #line default
            #line hidden
            
            #line 641 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                 if (canConfig)
                {
                    
            
            #line default
            #line hidden
            
            #line 643 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(Html.EditorFor(model => model.DeviceFlag.OnUnassignmentExpression));

            
            #line default
            #line hidden
            
            #line 643 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                       
                    
            
            #line default
            #line hidden
            
            #line 644 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(AjaxHelpers.AjaxRemove());

            
            #line default
            #line hidden
            
            #line 644 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                             
                    
            
            #line default
            #line hidden
            
            #line 645 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(AjaxHelpers.AjaxSave());

            
            #line default
            #line hidden
            
            #line 645 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                           
                    
            
            #line default
            #line hidden
            
            #line 646 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(AjaxHelpers.AjaxLoader());

            
            #line default
            #line hidden
            
            #line 646 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                             

            
            #line default
            #line hidden
WriteLiteral("                    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
                        $(function () {
                            var field = $('#DeviceFlag_OnUnassignmentExpression');
                            var fieldRemove = field.next('.ajaxRemove');
                            var fieldOriginalWidth, fieldOriginalHeight;

                            document.DiscoFunctions.PropertyChangeHelper(
                                field,
                                'None',
                                '");

            
            #line 656 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                            Write(Url.Action(MVC.API.DeviceFlag.UpdateOnUnassignmentExpression(Model.DeviceFlag.Id)));

            
            #line default
            #line hidden
WriteLiteral(@"',
                                'OnUnassignmentExpression'
                            );

                            field.focus(function () {
                                fieldOriginalWidth = field.width();
                                fieldOriginalHeight = field.height();
                                field.css('overflow', 'visible').animate({ width: field.parent().width() - 42, height: 75 }, 200);
                            }).blur(function () {
                                field.css('overflow', 'hidden').animate({ width: fieldOriginalWidth, height: fieldOriginalHeight }, 200);
                            }).change(function () {
                                if (!!field.val()) {
                                    fieldRemove.show();
                                } else {
                                    fieldRemove.hide();
                                }
                            }).attr('placeholder', 'None').attr('spellcheck', 'false');

                            fieldRemove.click(function () {
                                field.val('').change();
                            });

                            if (!!field.val()) {
                                fieldRemove.show();
                            } else {
                                fieldRemove.hide();
                            }
                        });
                    </script>
");

            
            #line 685 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                }
                else
                {
                    if (string.IsNullOrWhiteSpace(Model.DeviceFlag.OnUnassignmentExpression))
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <span");

WriteLiteral(" class=\"smallMessage\"");

WriteLiteral(">&lt;None Specified&gt;</span>\r\n");

            
            #line 691 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    }
                    else
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <div");

WriteLiteral(" class=\"code\"");

WriteLiteral(">\r\n");

WriteLiteral("                            ");

            
            #line 695 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                       Write(Model.DeviceFlag.OnUnassignmentExpression);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        </div>\r\n");

            
            #line 697 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    }
                }

            
            #line default
            #line hidden
WriteLiteral("                <div");

WriteLiteral(" class=\"info-box\"");

WriteLiteral(">\r\n                    <p");

WriteLiteral(" class=\"fa-p\"");

WriteLiteral(">\r\n                        <i");

WriteLiteral(" class=\"fa fa-fw fa-info-circle\"");

WriteLiteral("></i>This expression will be evaluated whenever the flag is removed from a device" +
". The output of the expression will be shown with the flag assignment.\r\n        " +
"            </p>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n\r\n  " +
"      <tr");

WriteLiteral(" class=\"Config_HideAdvanced_Item\"");

WriteLiteral(">\r\n            <th>\r\n                Linked Groups:\r\n            </th>\r\n         " +
"   <td>\r\n                <div>\r\n");

WriteLiteral("                    ");

            
            #line 713 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(Html.Partial(MVC.Config.Shared.Views.LinkedGroupInstance, new LinkedGroupModel()
               {
                   CanConfigure = canConfig,
                   CategoryDescription = DeviceFlagDevicesManagedGroup.GetCategoryDescription(Model.DeviceFlag),
                   Description = DeviceFlagDevicesManagedGroup.GetDescription(Model.DeviceFlag),
                   ManagedGroup = Model.DevicesLinkedGroup,
                   IncludeFilterBeginDate = true,
                   UpdateUrl = Url.Action(MVC.API.DeviceFlag.UpdateDevicesLinkedGroup(Model.DeviceFlag.Id, redirect: true))
               }));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

WriteLiteral("                    ");

            
            #line 722 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(Html.Partial(MVC.Config.Shared.Views.LinkedGroupInstance, new LinkedGroupModel()
               {
                   CanConfigure = canConfig,
                   CategoryDescription = DeviceFlagDeviceAssignedUsersManagedGroup.GetCategoryDescription(Model.DeviceFlag),
                   Description = DeviceFlagDeviceAssignedUsersManagedGroup.GetDescription(Model.DeviceFlag),
                   ManagedGroup = Model.AssignedUserLinkedGroup,
                   IncludeFilterBeginDate = true,
                   UpdateUrl = Url.Action(MVC.API.DeviceFlag.UpdateAssignedUserLinkedGroup(Model.DeviceFlag.Id, redirect: true))
               }));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 731 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 731 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                     if (canConfig)
                    {
                        
            
            #line default
            #line hidden
            
            #line 733 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                   Write(Html.Partial(MVC.Config.Shared.Views.LinkedGroupShared));

            
            #line default
            #line hidden
            
            #line 733 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                
                    }

            
            #line default
            #line hidden
WriteLiteral("                </div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n");

            
            #line 740 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
 if (canBulkAssignment || canDelete || canShowDevices || canExportCurrent || canExportAll)
{

            
            #line default
            #line hidden
WriteLiteral("    <div");

WriteLiteral(" class=\"actionBar\"");

WriteLiteral(">\r\n");

            
            #line 743 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
        
            
            #line default
            #line hidden
            
            #line 743 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
         if (canExportCurrent)
        {
            
            
            #line default
            #line hidden
            
            #line 745 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
       Write(Html.ActionLinkButton("Export Current Assignments", MVC.Config.DeviceFlag.Export(null, Model.DeviceFlag.Id, true), "Config_DeviceFlags_Actions_ExportCurrent_Button"));

            
            #line default
            #line hidden
            
            #line 745 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                                                                                                  
        }

            
            #line default
            #line hidden
WriteLiteral("        ");

            
            #line 747 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
         if (canExportAll)
        {
            
            
            #line default
            #line hidden
            
            #line 749 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
       Write(Html.ActionLinkButton("Export All Assignments", MVC.Config.DeviceFlag.Export(null, Model.DeviceFlag.Id, false), "Config_DeviceFlags_Actions_ExportAll_Button"));

            
            #line default
            #line hidden
            
            #line 749 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                                                                                           
        }

            
            #line default
            #line hidden
WriteLiteral("        ");

            
            #line 751 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
         if (canBulkAssignment)
        {

            
            #line default
            #line hidden
WriteLiteral("            <a");

WriteLiteral(" href=\"#\"");

WriteLiteral(" id=\"Config_DeviceFlags_BulkAssign_Button\"");

WriteLiteral(" class=\"button\"");

WriteLiteral(">Bulk Assign Devices</a>\r\n");

WriteLiteral("            <div");

WriteLiteral(" id=\"Config_DeviceFlags_BulkAssign_ModeDialog\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Bulk Assign Device Mode\"");

WriteLiteral(">\r\n                <p>\r\n                    Select the mode used to assign device" +
"s:\r\n                </p>\r\n                <div>\r\n                    <div");

WriteLiteral(" class=\"add\"");

WriteLiteral(">\r\n                        <h5><i");

WriteLiteral(" class=\"fa fa-plus fa-fw\"");

WriteLiteral(@"></i>Add</h5>
                        <p>
                            Specified devices will have this flag <strong>added</strong>. Devices who already have this flag will be skipped.
                        </p>
                    </div>
                    <div");

WriteLiteral(" class=\"override\"");

WriteLiteral(">\r\n                        <h5><i");

WriteLiteral(" class=\"fa fa-repeat fa-fw\"");

WriteLiteral(@"></i>Override</h5>
                        <p>
                            Specified devices will have this flag <strong>added</strong>. Specified devices which already have this flag will be skipped.
                            Devices who already have this flag but are not specified will have the flag <strong>removed</strong>.
                        </p>
                    </div>
                </div>
            </div>
");

WriteLiteral("            <div");

WriteLiteral(" id=\"Config_DeviceFlags_BulkAssign_AssignDialog\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Bulk Assign Devices\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"brief\"");

WriteLiteral(@">
                    <div>
                        Enter multiple <strong>Device Serial Numbers</strong> separated by <code>&lt;new line&gt;</code>, commas (<code>,</code>) or semicolons (<code>;</code>).
                    </div>
                </div>
                <div");

WriteLiteral(" class=\"loading\"");

WriteLiteral(">\r\n                    <h4><i");

WriteLiteral(" class=\"fa fa-lg fa-cog fa-spin\"");

WriteLiteral(" title=\"Please Wait\"");

WriteLiteral("></i>Loading current assignments...</h4>\r\n                </div>\r\n               " +
" <form");

WriteLiteral(" action=\"#\"");

WriteLiteral(" method=\"post\"");

WriteLiteral(" data-overrideaction=\"");

            
            #line 783 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                Write(Url.Action(MVC.API.DeviceFlag.BulkAssignDevices(Model.DeviceFlag.Id, true)));

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteLiteral(" data-addaction=\"");

            
            #line 783 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                                                                                Write(Url.Action(MVC.API.DeviceFlag.BulkAssignDevices(Model.DeviceFlag.Id, false)));

            
            #line default
            #line hidden
WriteLiteral("\"");

WriteLiteral(">\r\n");

WriteLiteral("                    ");

            
            #line 784 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(Html.AntiForgeryToken());

            
            #line default
            #line hidden
WriteLiteral("\r\n                    <textarea");

WriteLiteral(" id=\"Config_DeviceFlags_BulkAssign_AssignDialog_DeviceSerialNumbers\"");

WriteLiteral(" name=\"DeviceSerialNumbers\"");

WriteLiteral("></textarea>\r\n                    <h4>Comments:</h4>\r\n                    <textar" +
"ea");

WriteLiteral(" id=\"Config_DeviceFlags_BulkAssign_AssignDialog_Comments\"");

WriteLiteral(" name=\"Comments\"");

WriteLiteral("></textarea>\r\n                </form>\r\n            </div>\r\n");

WriteLiteral("            <script>\r\n                $(function () {\r\n                    var mo" +
"deDialog, assignDialog, assignDeviceSerialNumbers;\r\n\r\n                    functi" +
"on showModeDialog() {\r\n                        if (!modeDialog) {\r\n             " +
"               modeDialog = $(\'#Config_DeviceFlags_BulkAssign_ModeDialog\').dialo" +
"g({\r\n                                resizable: false,\r\n                        " +
"        modal: true,\r\n                                autoOpen: false,\r\n        " +
"                        width: 400,\r\n                                buttons: {\r" +
"\n                                    Cancel: function () {\r\n                    " +
"                    $(this).dialog(\'close\');\r\n                                  " +
"  }\r\n                                }\r\n                            });\r\n\r\n     " +
"                       modeDialog.find(\'.add\').click(function () {\r\n            " +
"                    modeDialog.dialog(\'close\');\r\n                               " +
" showAssignDialog(\'Add\');\r\n                            });\r\n                    " +
"        modeDialog.find(\'.override\').click(function () {\r\n                      " +
"          modeDialog.dialog(\'close\');\r\n                                showAssig" +
"nDialog(\'Override\');\r\n                            });\r\n                        }" +
"\r\n                        modeDialog.dialog(\'open\');\r\n                    }\r\n   " +
"                 function showAssignDialog(mode) {\r\n                        if (" +
"!assignDialog) {\r\n                            assignDialog = $(\'#Config_DeviceFl" +
"ags_BulkAssign_AssignDialog\').dialog({\r\n                                resizabl" +
"e: false,\r\n                                modal: true,\r\n                       " +
"         autoOpen: false,\r\n                                width: 460\r\n         " +
"                   });\r\n\r\n                            assignDeviceSerialNumbers " +
"= $(\'#Config_DeviceFlags_BulkAssign_AssignDialog_DeviceSerialNumbers\');\r\n       " +
"                 }\r\n\r\n                        assignDialog.removeClass(\'loading\'" +
");\r\n\r\n                        var buttons = {};\r\n                        buttons" +
"[mode + \" Device Flags\"] = function () {\r\n                            $(this).fi" +
"nd(\'form\').submit();\r\n                            $(this).dialog(\"disable\");\r\n  " +
"                      }\r\n                        buttons[\'Cancel\'] = function ()" +
" {\r\n                            $(this).dialog(\'close\');\r\n                      " +
"  }\r\n                        assignDialog.dialog(\'option\', \'buttons\', buttons);\r" +
"\n                        assignDialog.dialog(\'option\', \'title\', \'Bulk Assign Dev" +
"ices: \' + mode);\r\n\r\n                        const $form = assignDeviceSerialNumb" +
"ers.closest(\'form\');\r\n                        if (mode == \"Override\") {\r\n       " +
"                     $form.attr(\'action\', $form.attr(\'data-overrideaction\'));\r\n\r" +
"\n                            assignDialog.addClass(\'loading\');\r\n                " +
"            $.getJSON(\'");

            
            #line 849 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                  Write(Url.Action(MVC.API.DeviceFlag.AssignedDevices(Model.DeviceFlag.Id)));

            
            #line default
            #line hidden
WriteLiteral(@"', function (response, result) {
                                assignDialog.removeClass('loading');

                                if (result != 'success') {
                                    alert('Unable to load current assignments:\n' + response);
                                    assignDialog.dialog('close');
                                } else {
                                    if (!!response) {
                                        assignDeviceSerialNumbers.val(response.join('\n'));
                                    } else {
                                        assignDeviceSerialNumbers.val('');
                                    }
                                }
                            });
                        }
                        else // Assume Add
                        {
                            $form.attr('action', $form.attr('data-addaction'));
                        }

                        assignDialog.dialog('open');
                    }

                    $('#Config_DeviceFlags_BulkAssign_Button').click(function () {
                        showModeDialog();
                        return false;
                    });
                });
            </script>
");

            
            #line 878 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("        ");

            
            #line 879 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
         if (canDelete)
        {

            
            #line default
            #line hidden
WriteLiteral("            <button");

WriteLiteral(" id=\"Config_DeviceFlags_Actions_Delete_Button\"");

WriteLiteral(" type=\"button\"");

WriteLiteral(" class=\"button\"");

WriteLiteral(">Delete</button>\r\n");

WriteLiteral("            <div");

WriteLiteral(" id=\"Config_DeviceFlags_Actions_Delete_Dialog\"");

WriteLiteral(" class=\"dialog\"");

WriteLiteral(" title=\"Delete this Device Flag?\"");

WriteLiteral(">\r\n");

            
            #line 883 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                
            
            #line default
            #line hidden
            
            #line 883 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                 using (Html.BeginForm(MVC.API.DeviceFlag.Delete(Model.DeviceFlag.Id, true)))
                {
                    
            
            #line default
            #line hidden
            
            #line 885 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
               Write(Html.AntiForgeryToken());

            
            #line default
            #line hidden
            
            #line 885 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                            
                }

            
            #line default
            #line hidden
WriteLiteral("                <p>\r\n                    <i");

WriteLiteral(" class=\"fa fa-exclamation-triangle fa-lg warning\"");

WriteLiteral("></i>\r\n                    This item will be permanently deleted and cannot be re" +
"covered.<br />\r\n                    <br />\r\n");

            
            #line 891 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    
            
            #line default
            #line hidden
            
            #line 891 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                     if (Model.CurrentAssignmentCount > 0)
                    {

            
            #line default
            #line hidden
WriteLiteral("                        <strong>");

            
            #line 893 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                           Write(Model.CurrentAssignmentCount);

            
            #line default
            #line hidden
WriteLiteral(" device");

            
            #line 893 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                Write(Model.CurrentAssignmentCount != 1 ? "s are" : " is");

            
            #line default
            #line hidden
WriteLiteral(" currently assigned</strong>\r\n");

WriteLiteral("                        <br />\r\n");

WriteLiteral("                        <br />\r\n");

            
            #line 896 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                    }

            
            #line default
            #line hidden
WriteLiteral("                    Are you sure?\r\n                </p>\r\n            </div>\r\n");

WriteLiteral("            <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
                $(function () {
                    let buttonDialog = null;
                    $('#Config_DeviceFlags_Actions_Delete_Button').on('click', function () {
                        const $button = $(this);
                        if (!buttonDialog) {
                            buttonDialog = $('#Config_DeviceFlags_Actions_Delete_Dialog').dialog({
                                resizable: false,
                                modal: true,
                                autoOpen: false,
                                buttons: {
                                    ""Delete"": function () {
                                        $(this)
                                            .dialog(""option"", ""buttons"", null)
                                            .find('form').trigger('submit');
                                    },
                                    Cancel: function () {
                                        $(this).dialog(""close"");
                                    }
                                }
                            });
                        }
                        buttonDialog.dialog('open');
                    });
                });
            </script>
");

            
            #line 926 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
        }

            
            #line default
            #line hidden
WriteLiteral("        ");

            
            #line 927 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
         if (canShowDevices)
        {
            
            
            #line default
            #line hidden
            
            #line 929 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
       Write(Html.ActionLinkButton(string.Format("Show {0} device{1}", Model.CurrentAssignmentCount, (Model.CurrentAssignmentCount == 1 ? null : "s")), MVC.Search.Query(Model.DeviceFlag.Id.ToString(), "DeviceFlag"), "Config_DeviceFlags_Actions_ShowDevices_Button"));

            
            #line default
            #line hidden
            
            #line 929 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
                                                                                                                                                                                                                                                                        
        }

            
            #line default
            #line hidden
WriteLiteral("    </div>\r\n");

            
            #line 932 "..\..\Areas\Config\Views\DeviceFlag\Show.cshtml"
}

            
            #line default
            #line hidden
        }
    }
}
#pragma warning restore 1591
